<div class="row "categories"" ng-controller="categories">
    <div class="col-md-4 col-md-push-8">
        <div ui-view="sidebar">
            <div class="filters">
                <h1>Filters</h1>
                <!-- h4>Roles</h4>
                <p>
                    <a href="" class="btn btn-default" ng-class="{'btn-primary':filters.role==''}" ng-click="filter('role', '')">All</a>
                    <a href="" class="btn btn-default" ng-class="{'btn-primary':filters.role=='admin'}" ng-click="filter('role', 'admin')">Admin</a>
                    <a href="" class="btn btn-default" ng-class="{'btn-primary':filters.role=='user'}" ng-click="filter('role', 'user')">User</a>
                </p-->
            </div>
        </div>
    </div>
    <div class="col-md-8 col-md-pull-4">
        <div class="row title">
            <div class="col-xs-8">
                <h1>Categories</h1>
                <a ui-sref="category.new" class="btn btn-primary pull-right"><span class="glyphicon glyphicon-plus"></span>New category</a>
            </div>
            <div class="col-xs-4">
                <input type="text" class="form-control" ng-model="filters.title" placeholder="Search" ng-change="currentPage=1" />
            </div>
        </div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th class="col-md-1"><a href="" ng-click="predicate='title';reverse=!reverse">Title</a></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="category in filtered = (data.category | filter:filters) | orderBy:predicate | startFrom:(currentPage-1)*pageSize | limitTo:pageSize" ng-class="{info:id==category.id}">
                    <td>{{ category.id || 'None' }}</td>
                    <td>{{ category.title || 'None' }}</td>
                    <td><a ui-sref="category.view({id:category.id})">Detail</a></td>
                </tr>
            </tbody>
        </table>
        <a href ng-click="test()">TEST!!!</a>
        <p>Total items: {{ filtered.length }} </p>
        <p>All items: {{ data }} </p>
        <p>Filtered items: {{ filtered }} </p>
        <pagination ng-model="currentPage" total-items="filtered.length" items-per-page="pageSize"></pagination>
    </div>
</div>