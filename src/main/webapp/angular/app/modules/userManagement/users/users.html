<div class="row users" ng-controller="users">
    <div class="col-md-4 col-md-push-8">
        <div ui-view="sidebar">
            <div class="filters">
                <h1>Filters</h1>
                <h4>Roles</h4>
                <p>
                    <a href="" class="btn btn-default" ng-class="{'btn-primary':filters.authRole==''}" ng-click="filter('authRole', '')">All</a>
                    <a href="" class="btn btn-default" ng-class="{'btn-primary':filters.authRole=='ADMIN'}" ng-click="filter('authRole', 'ADMIN')">Admin</a>
                    <a href="" class="btn btn-default" ng-class="{'btn-primary':filters.authRole=='PRIVILEGED_USER'}" ng-click="filter('authRole', 'PRIVILEGED_USER')">Privileged User</a>
                    <a href="" class="btn btn-default" ng-class="{'btn-primary':filters.authRole=='BASIC_USER'}" ng-click="filter('authRole', 'BASIC_USER')">Basic user</a>
                </p>
            </div>
        </div>
    </div>
    <div class="col-md-8 col-md-pull-4">
        <div class="row title">
            <div class="col-md-4 col-sm-4 col-xs-12">
                <h1>Users</h1>
            </div>
            <div class="col-md-5 col-sm-5 col-xs-12">
              	<div class="pull-right">
                	<a class="btn btn-primary" ng-click="refresh()"><span class="glyphicon glyphicon-refresh"></span> Refresh</a>
                	<a class="btn btn-primary" ui-sref="users.new" ><span class="glyphicon glyphicon-plus"></span> New user</a> 
				</div>
              </div>
            <div class="col-md-3 col-sm-3 col-xs-12">
                <input type="text" class="form-control" ng-model="filters.$" placeholder="Search" ng-change="currentPage=1" />
            </div>
        </div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th class="col-md-1"><a href="" ng-click="predicate='id';reverse=!reverse">Id</a></th>
                    <th class="col-md-2"><a href="" ng-click="predicate='name';reverse=!reverse">User name</a></th>
                    <th class="col-md-2"><a href="" ng-click="predicate='username';reverse=!reverse">Login name</a></th>
                    <th class="col-md-2"><a href="" ng-click="predicate='forname';reverse=!reverse">Forname</a></th>
                    <th class="col-md-2"><a href="" ng-click="predicate='authRole';reverse=!reverse">Role</a></th>
                    <th class="col-md-2"><a href="" ng-click="predicate='passwd';reverse=!reverse">Password</a></th>
<!--                     <th class="col-md-1"><a href="" ng-click="predicate='authToken';reverse=!reverse">Auth. token</a></th> -->
					<th class="col-md-1"><a href="" ng-click="predicate='title';reverse=!reverse">Detail</a></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="user in filtered = (data.user | filter:filters) | orderBy:predicate | startFrom:(currentPage-1)*pageSize | limitTo:pageSize" ng-class="{info:id==user.id}">
                    <td>{{ user.id || 'None' }}</td>
                    <td><a ui-sref="users.view({id:user.id})">{{ user.name || 'None' }}</a></td>
                    <td>{{ user.username|| 'None' }}</td>
                    <td>{{ user.forname  || 'None' }}</td>
                    <td>{{ user.authRole || 'None' }}</td>
                    <td>{{ user.passwd || 'None' }}</td>
<!--                     <td>{{ user.authToken || 'None' }}</td> -->
					<td><a ui-sref="users.view({id:user.id})">Detail</a></td>
                </tr>
            </tbody>
        </table>
<!--         <p>Total items: {{ filtered.length }} </p> -->
<!--         <p>Filter: {{ filters }} </p> -->
<!--         <p>Filtered items: {{ filtered }} </p> -->
<!--         <p>All items: {{ data.user }} </p> -->
<!--         <pagination ng-model="currentPage" total-items="filtered.length" items-per-page="pageSize"></pagination> -->
    </div>
</div>